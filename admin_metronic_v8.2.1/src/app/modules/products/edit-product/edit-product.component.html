<div class="d-flex flex-column flex-column-fluid">
  <div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
    <div
      id="kt_app_toolbar_container"
      class="app-container container-xxl d-flex flex-stack"
    >
      <div
        class="page-title d-flex flex-column justify-content-center flex-wrap me-3"
      >
        <h1
          class="page-heading d-flex text-gray-900 fw-bold fs-3 flex-column justify-content-center my-0"
        >
          Editar Producto: "{{ PRODUCT_SELECTED.title }}"
        </h1>
        </div>
      <div class="d-flex align-items-center gap-2 gap-lg-3"></div>
      </div>
    </div>
  <span
    class="spinner-border spinner-border-sm align-middle ms-2"
    *ngIf="isLoading$ | async"
  ></span>
  <div id="kt_app_content" class="app-content flex-column-fluid">
    <div id="kt_app_content_container" class="app-container container-xxl">
      <form
        id="kt_ecommerce_add_product_form"
        class="form d-flex flex-column flex-lg-row"
        data-kt-redirect="apps/ecommerce/catalog/products.html"
      >
        <div
          class="d-flex flex-column gap-7 gap-lg-10 w-100 w-lg-300px mb-7 me-lg-10"
        >
          <div class="card card-flush py-4">
            <div class="card-header">
              <div class="card-title">
                <h2>Miniatura</h2>
              </div>
              </div>
            <div class="card-body text-center pt-0">
              <div
                class="image-input image-input-empty image-input-outline image-input-placeholder mb-3"
                [ngStyle]="{
                  'background-image': 'url(' + imagen_previzualiza + ')'
                }"
                data-kt-image-input="true"
              >
                <div class="image-input-wrapper w-150px h-150px"></div>
                <label
                  class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                  data-kt-image-input-action="change"
                  data-bs-toggle="tooltip"
                  title="Cambiar imagen"
                >
                  <i class="ki-duotone ki-pencil fs-7">
                    <span class="path1"></span>
                    <span class="path2"></span>
                  </i>
                  <input
                    type="file"
                    name="avatar"
                    accept=".png, .jpg, .jpeg"
                    (change)="processFile($event)"
                  />
                  <input type="hidden" name="avatar_remove" />
                  </label>
                <span
                  class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                  data-kt-image-input-action="cancel"
                  data-bs-toggle="tooltip"
                  title="Cancelar cambio"
                >
                  <i class="ki-duotone ki-cross fs-2">
                    <span class="path1"></span>
                    <span class="path2"></span>
                  </i>
                </span>
                <span
                  class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                  data-kt-image-input-action="remove"
                  data-bs-toggle="tooltip"
                  title="Eliminar imagen"
                >
                  <i class="ki-duotone ki-cross fs-2">
                    <span class="path1"></span>
                    <span class="path2"></span>
                  </i>
                </span>
                </div>
              <div class="text-muted fs-7">
                Establece la imagen en miniatura del producto. Solo se aceptan
                archivos de imagen *.png, *.jpg y *.jpeg.
              </div>
              </div>
            </div>
          <div class="card card-flush py-4">
            <div class="card-header">
              <div class="card-title">
                <h2>Estado</h2>
              </div>
              <div class="card-toolbar">
                <div
                  class="rounded-circle bg-success w-15px h-15px"
                  id="kt_ecommerce_add_product_status"
                ></div>
              </div>
              </div>
            <div class="card-body pt-0">
              <select
                class="form-select mb-2"
                [(ngModel)]="state"
                name="state"
                data-control="select2"
                data-hide-search="true"
                data-placeholder="Selecciona una opción"
                id="kt_ecommerce_add_product_status_select"
              >
                <option value="1">Publicado</option>
                <option value="2">Inactivo</option>
              </select>
              <div class="text-muted fs-7">
                Establece el estado del producto.
              </div>
              <div class="d-none mt-10">
                <label
                  for="kt_ecommerce_add_product_status_datepicker"
                  class="form-label"
                  >Selecciona la fecha y hora de publicación</label
                >
                <input
                  class="form-control"
                  id="kt_ecommerce_add_product_status_datepicker"
                  placeholder="Elige fecha y hora"
                />
              </div>
              </div>
            </div>
          <div class="card card-flush py-4">
            <div class="card-header">
              <div class="card-title">
                <h2>Categoría del Producto</h2>
              </div>
              </div>
            <div class="card-body pt-0">
              <label
                for="kt_ecommerce_add_product_store_template"
                class="form-label"
                >Selecciona una categoría</label
              >
              <select
                class="form-select mb-2"
                [(ngModel)]="product_categorie_id"
                name="product_categorie_id"
              >
                <ng-container *ngFor="let CATEGORIE of CATEGORIES">
                  <option [value]="CATEGORIE.id">{{ CATEGORIE.name }}</option>
                </ng-container>
              </select>
              <div class="text-muted fs-7">
                Asigna una categoría para organizar mejor tus productos.
              </div>
              </div>
            </div>
          </div>
        <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
          <ul
            class="nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-n2"
          >
            <li class="nav-item">
              <a
                class="nav-link text-active-primary pb-4"
                [ngClass]="{ active: tab_selected == 1 }"
                data-bs-toggle="tab"
                href="#kt_ecommerce_add_product_general"
                onclick="return false;"
                (click)="selectedTab(1)"
                >General</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-active-primary pb-4"
                [ngClass]="{ active: tab_selected == 2 }"
                data-bs-toggle="tab"
                href="#kt_ecommerce_add_product_advanced"
                onclick="return false;"
                (click)="selectedTab(2)"
                >Avanzado</a
              >
            </li>
            </ul>
          <div class="tab-content">
            <div
              class="tab-pane fade"
              [ngClass]="{ 'show active': tab_selected == 1 }"
              id="kt_ecommerce_add_product_general"
              role="tab-panel"
            >
              <div class="d-flex flex-column gap-7 gap-lg-10">
                <div class="card card-flush py-4">
                  <div class="card-header">
                    <div class="card-title">
                      <h2>General</h2>
                    </div>
                  </div>
                  <div class="card-body pt-0">
                    <div class="mb-10 fv-row">
                      <label class="required form-label"
                        >Nombre del Producto</label
                      >
                      <input
                        type="text"
                        [(ngModel)]="title"
                        name="title"
                        class="form-control mb-2"
                        placeholder="Nombre del producto"
                      />
                      <div class="text-muted fs-7">
                        Se requiere un nombre de producto y se recomienda que
                        sea único.
                      </div>
                      </div>
                    <div>
                      <label class="form-label">Descripción</label>
                      <textarea
                        class="form-control form-control-solid"
                        rows="3"
                        [(ngModel)]="description"
                        name="description"
                        placeholder="Escribe una descripción"
                      ></textarea>

                      <div class="text-muted fs-7">
                        Establece una descripción para el producto para una
                        mejor visibilidad.
                      </div>
                      </div>

                    <div class="row">
                      <div class="col-4">
                        <label class="required form-label"
                          >Proveedor: (Opcional)</label
                        >
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="provider_id"
                          name="provider_id"
                        >
                          <ng-container *ngFor="let PROVIDER of PROVIDERS">
                            <option [value]="PROVIDER.id">
                              {{ PROVIDER.full_name }}
                            </option>
                          </ng-container>
                        </select>
                      </div>
                      <div class="col-8">
                        <label class="required form-label"
                          >Especificaciones: (Opcional)</label
                        >
                        <div class="d-flex">
                          <input
                            type="text"
                            [(ngModel)]="key_v"
                            name="key_v"
                            class="form-control mb-2"
                            placeholder="Propiedad"
                          />
                          <input
                            type="text"
                            [(ngModel)]="value_v"
                            name="value_v"
                            class="form-control mb-2"
                            placeholder="Valor"
                          />
                          <button
                            class="btn btn-primary btn-sm"
                            (click)="addEspecif()"
                          >
                            +
                          </button>
                        </div>
                        <div>
                          <div class="table-responsive">
                            <table
                              class="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
                            >
                              <thead>
                                <tr class="fw-bold text-muted">
                                  <th class="">Propiedad</th>
                                  <th class="">Valor</th>
                                  <th class="">Acciones</th>
                                </tr>
                              </thead>
                              <tbody>
                                <ng-container
                                  *ngFor="
                                    let ESPECIFICACION of ESPECIFICACIONES;
                                    let i = index
                                  "
                                >
                                  <tr>
                                    <td>
                                      <a
                                        href="#"
                                        class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6"
                                        >{{ ESPECIFICACION.key_v }}</a
                                      >
                                    </td>

                                    <td
                                      class="text-gray-900 fw-bold text-hover-primary fs-6"
                                    >
                                      {{ ESPECIFICACION.value_v }}
                                    </td>
                                    <td class="">
                                      <a
                                        href="#"
                                        onclick="return false"
                                        (click)="removeEspecif(i)"
                                        class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                                      >
                                        <i class="ki-duotone ki-trash fs-2"
                                          ><span class="path1"></span
                                          ><span class="path2"></span
                                          ><span class="path3"></span
                                          ><span class="path4"></span
                                          ><span class="path5"></span
                                        ></i>
                                      </a>
                                    </td>
                                  </tr>
                                </ng-container>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                  </div>
                <div class="card card-flush py-4">
                  <div class="card-header">
                    <div class="card-title">
                      <h2>Adicionales</h2>
                    </div>
                  </div>
                  <div class="card-body pt-0">
                    <div class="mb-10 row fv-row">
                      <div class="col-4">
                        <label class="required form-label">Precio Base</label>
                        <input
                          type="number"
                          [(ngModel)]="price_general"
                          name="price_general"
                          class="form-control mb-2"
                          placeholder="Precio del producto"
                        />
                        <div class="text-muted fs-7">
                          Establece el precio del producto.
                        </div>
                        </div>
                      <div class="col-4">
                        <label class="required form-label"
                          >Disponibilidad</label
                        >
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="disponibilidad"
                          name="disponibilidad"
                        >
                          <option value="1" selected="selected">
                            Vender los productos sin stock
                          </option>
                          <option value="2">
                            No vender los productos sin stock
                          </option>
                          <option value="3">
                            Proyectar con los contratos que se tenga
                          </option>
                        </select>
                      </div>
                      <div class="col-4">
                        <label class="required form-label"
                          >Tiempo de abastecimiento</label
                        >
                        <input
                          type="number"
                          [(ngModel)]="tiempo_de_abastecimiento"
                          name="tiempo_de_abastecimiento"
                          class="form-control mb-2"
                          placeholder="Días de abastecimiento"
                        />
                      </div>
                    </div>
                    <div class="fv-row mb-10">
                      <label class="fs-6 fw-semibold mb-2"
                        >Tipo de Descuento
                        <span
                          class="ms-1"
                          data-bs-toggle="tooltip"
                          title="Selecciona un tipo de descuento que se aplicará a este producto"
                        >
                          <i
                            class="ki-duotone ki-information-5 text-gray-500 fs-6"
                          >
                            <span class="path1"></span>
                            <span class="path2"></span>
                            <span class="path3"></span>
                          </i> </span
                      ></label>
                      <div
                        class="row row-cols-1 row-cols-md-3 row-cols-lg-1 row-cols-xl-3 g-9"
                        data-kt-buttons="true"
                        data-kt-buttons-target="[data-kt-button='true']"
                      >
                        <div class="col">
                          <label
                            class="btn btn-outline btn-outline-dashed btn-active-light-primary d-flex text-start p-6"
                            [ngClass]="{ active: is_discount == 1 }"
                            data-kt-button="true"
                          >
                            <span
                              class="form-check form-check-custom form-check-solid form-check-sm align-items-start mt-1"
                            >
                              <input
                                class="form-check-input"
                                type="radio"
                                name="discount_option"
                                (click)="selectedDiscount(1)"
                                checked="checked"
                              />
                            </span>
                            <span class="ms-5">
                              <span class="fs-4 fw-bold text-gray-800 d-block"
                                >Sin Descuento</span
                              >
                            </span>
                            </label>
                          </div>
                        <div class="col">
                          <label
                            class="btn btn-outline btn-outline-dashed btn-active-light-primary d-flex text-start p-6"
                            [ngClass]="{ active: is_discount == 2 }"
                            data-kt-button="true"
                          >
                            <span
                              class="form-check form-check-custom form-check-solid form-check-sm align-items-start mt-1"
                            >
                              <input
                                class="form-check-input"
                                type="radio"
                                name="discount_option"
                                (click)="selectedDiscount(2)"
                              />
                            </span>
                            <span class="ms-5">
                              <span class="fs-4 fw-bold text-gray-800 d-block"
                                >Porcentaje %</span
                              >
                            </span>
                            </label>
                          </div>
                        </div>
                      </div>
                    <div
                      class="mb-10 row fv-row"
                      *ngIf="is_discount == 2"
                      id="kt_ecommerce_add_product_discount_fixed"
                    >
                      <div class="col-4">
                        <label class="form-label">Descuento Mínimo: </label>
                        <input
                          type="number"
                          [(ngModel)]="min_discount"
                          name="min_discount"
                          class="form-control mb-2"
                          placeholder="Precio con descuento"
                        />
                        <div class="text-muted fs-7"></div>
                        </div>
                      <div class="col-4">
                        <label class="form-label">Descuento Máximo:</label>
                        <input
                          type="number"
                          [(ngModel)]="max_discount"
                          name="max_discount"
                          class="form-control mb-2"
                          placeholder="Precio con descuento"
                        />
                        <div class="text-muted fs-7"></div>
                        </div>
                    </div>
                    <div class="d-flex flex-wrap gap-5">
                      <div class="fv-row w-100 flex-md-root">
                        <label class="required form-label"
                          >Clase de Impuesto</label
                        >
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="tax_selected"
                          name="tax_selected"
                          data-control="select2"
                          data-hide-search="true"
                          data-placeholder="Selecciona una opción"
                        >
                          <option value="1">Libre de Impuestos</option>
                          <option value="2">Bienes Gravables</option>
                          <option value="3">Producto Descargable</option>
                        </select>
                        <div class="text-muted fs-7">
                          Establece la clase de impuesto del producto.
                        </div>
                        </div>
                      <div class="fv-row w-100 flex-md-root">
                        <label class="form-label">Monto de IVA (%)</label>
                        <input
                          type="number"
                          [(ngModel)]="importe_iva"
                          name="importe_iva"
                          class="form-control mb-2"
                        />
                        <div class="text-muted fs-7">
                          Establece el monto de IVA del producto.
                        </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
            <div
              class="tab-pane fade"
              [ngClass]="{ 'show active': tab_selected == 2 }"
              id="kt_ecommerce_add_product_advanced"
              role="tab-panel"
            >
              <div class="d-flex flex-column gap-7 gap-lg-10">
                <div class="card card-flush py-4">
                  <div class="card-header">
                    <div class="card-title">
                      <h2>Inventario</h2>
                    </div>
                  </div>
                  <div class="card-body pt-0">
                    <div class="mb-10 fv-row row">
                      <div class="col-6">
                        <label class="required form-label">SKU</label>
                        <input
                          type="text"
                          [(ngModel)]="sku"
                          name="sku"
                          class="form-control mb-2"
                          placeholder="Número SKU"
                        />
                        <div class="text-muted fs-7">
                          Ingresa el SKU del producto.
                        </div>
                        </div>
                      <div class="col-6">
                        <label class="form-label">¿Es gratuito?</label>
                        <div
                          class="form-check form-check-custom form-check-solid mb-2"
                        >
                          <input
                            class="form-check-input"
                            type="checkbox"
                            (click)="isGift()"
                            [checked]="is_gift == 2"
                          />
                          <label class="form-check-label">Sí</label>
                        </div>
                        <div class="text-muted fs-7">
                          Es posible que el producto tenga costo 0.
                        </div>
                        </div>
                    </div>
                    <div class="mb-10 fv-row row">
                      <div class="col-6">
                        <label class="required form-label">UMBRAL</label>
                        <input
                          type="text"
                          [(ngModel)]="umbral"
                          name="umbral"
                          class="form-control mb-2"
                          placeholder="Número Umbral"
                        />
                        <div class="text-muted fs-7">
                          Ingresa el UMBRAL del producto.
                        </div>
                        </div>
                      <div class="col-6">
                        <label class="form-label">Unidad Umbral: </label>
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="umbral_unit_id"
                          name="umbral_unit_id"
                          placeholder="Selecciona una opción"
                        >
                          <ng-container *ngFor="let UNIT of UNITS">
                            <option [value]="UNIT.id">{{ UNIT.name }}</option>
                          </ng-container>
                        </select>
                        <div class="text-muted fs-7">
                          Define la unidad para el umbral.
                        </div>
                        </div>
                    </div>
                    <div class="mb-10 fv-row row">
                      <div class="col-4">
                        <label class="required form-label">Unidad</label>
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="unit_warehouse"
                          name="unit_warehouse"
                          placeholder="Selecciona una opción"
                        >
                          <ng-container *ngFor="let UNIT of UNITS">
                            <option [value]="UNIT.id">{{ UNIT.name }}</option>
                          </ng-container>
                        </select>
                        <div class="text-muted fs-7">Defina la unidad.</div>
                        </div>
                      <div class="col-4">
                        <label class="required form-label">Almacén</label>
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="almacen_warehouse"
                          name="almacen_warehouse"
                          placeholder="Selecciona una opción"
                        >
                          <ng-container *ngFor="let WAREHOUSE of WAREHOUSES">
                            <option [value]="WAREHOUSE.id">
                              {{ WAREHOUSE.name }}
                            </option>
                          </ng-container>
                        </select>
                        <div class="text-muted fs-7">Defina el Almacén.</div>
                        </div>
                      <div class="col-3">
                        <label class="required form-label">Cantidad</label>
                        <div class="d-flex gap-3">
                          <input
                            type="number"
                            [(ngModel)]="quantity_warehouse"
                            name="quantity_warehouse"
                            class="form-control mb-2"
                            placeholder="Cantidad"
                          />
                        </div>
                        <div class="text-muted fs-7">
                          Ingresa la cantidad del producto.
                        </div>
                        </div>
                      <div class="col-1">
                        <label class="required form-label">Agregar</label>
                        <button
                          class="btn btn-primary btn-sm"
                          (click)="addWarehouse()"
                        >
                          +
                        </button>
                      </div>
                    </div>
                    <div class="mb-10 fv-row row">
                      <div class="col-12">
                        <div class="table-responsive">
                          <table
                            class="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
                          >
                            <thead>
                              <tr class="fw-bold text-muted">
                                <th class="">Unidad</th>
                                <th class="">Almacén</th>
                                <th class="">Cantidad</th>
                                <th class="">Acciones</th>
                              </tr>
                            </thead>
                            <tbody>
                              <ng-container
                                *ngFor="
                                  let WAREHOUSES_PROD of WAREHOUSES_PRODUCT
                                "
                              >
                                <tr>
                                  <td>
                                    <a
                                      href="#"
                                      onclick="return false;"
                                      class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6"
                                      >{{ WAREHOUSES_PROD.unit ? WAREHOUSES_PROD.unit.name : "---" }}</a
                                    >
                                    </td>

                                  <td
                                    class="text-gray-900 fw-bold text-hover-primary fs-6"
                                  >
                                    {{ WAREHOUSES_PROD.warehouse.name }}
                                  </td>
                                  <td>
                                    {{ WAREHOUSES_PROD.quantity }}
                                  </td>
                                  <td class="">
                                    <a
                                      href="#"
                                      onclick="return false"
                                      (click)="editWarehouse(WAREHOUSES_PROD)"
                                      class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                                    >
                                      <i class="ki-duotone ki-pencil fs-2"
                                        ><span class="path1"></span
                                        ><span class="path2"></span
                                      ></i>
                                    </a>

                                    <a
                                      href="#"
                                      onclick="return false"
                                      (click)="removeWarehouse(WAREHOUSES_PROD)"
                                      class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                                    >
                                      <i class="ki-duotone ki-trash fs-2"
                                        ><span class="path1"></span
                                        ><span class="path2"></span
                                        ><span class="path3"></span
                                        ><span class="path4"></span
                                        ><span class="path5"></span
                                      ></i>
                                    </a>
                                  </td>
                                </tr>
                              </ng-container>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  </div>
                <div class="card card-flush py-4">
                  <div class="card-header">
                    <div class="card-title">
                      <h2>Precios Múltiples</h2>
                    </div>
                  </div>
                  <div class="card-body pt-0">
                    <div class="mb-10 fv-row row">
                      <div class="col-3">
                        <label class="required form-label">Unidad</label>
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="unit_price_multiple"
                          name="unit_price_multiple"
                          placeholder="Selecciona una opción"
                        >
                          <ng-container *ngFor="let UNIT of UNITS">
                            <option [value]="UNIT.id">{{ UNIT.name }}</option>
                          </ng-container>
                        </select>
                        <div class="text-muted fs-7">Defina la unidad.</div>
                        </div>
                      <div class="col-3">
                        <label class="required form-label">Sucursales</label>
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="sucursale_price_multiple"
                          name="sucursale_price_multiple"
                          placeholder="Selecciona una opción"
                        >
                          <ng-container *ngFor="let SUCURSALE of SUCURSALES">
                            <option [value]="SUCURSALE.id">
                              {{ SUCURSALE.name }}
                            </option>
                          </ng-container>
                        </select>
                        <div class="text-muted fs-7">
                          Defina las Sucursales.
                        </div>
                        </div>
                      <div class="col-3">
                        <label class="required form-label"
                          >Segmento de cliente</label
                        >
                        <select
                          class="form-select mb-2"
                          [(ngModel)]="client_segment_price_multiple"
                          name="client_segment_price_multiple"
                          placeholder="Selecciona una opción"
                        >
                          <ng-container
                            *ngFor="let CLIENT_SEGMENT of CLIENT_SEGMENTS"
                          >
                            <option [value]="CLIENT_SEGMENT.id">
                              {{ CLIENT_SEGMENT.name }}
                            </option>
                          </ng-container>
                        </select>
                        <div class="text-muted fs-7">
                          Defina el Segmento de cliente.
                        </div>
                        </div>
                      <div class="col-2">
                        <label class="required form-label">Precio</label>
                        <div class="d-flex gap-3">
                          <input
                            type="number"
                            [(ngModel)]="quantity_price_multiple"
                            name="quantity_price_multiple"
                            class="form-control mb-2"
                            placeholder="Precio"
                          />
                        </div>
                        <div class="text-muted fs-7">
                          Ingresa el precio del producto.
                        </div>
                        </div>
                      <div class="col-1">
                        <label class="required form-label">Agregar</label>
                        <button
                          class="btn btn-primary btn-sm"
                          (click)="addPriceMultiple()"
                        >
                          +
                        </button>
                      </div>
                    </div>
                    <div class="mb-10 fv-row row">
                      <div class="col-12">
                        <div class="table-responsive">
                          <table
                            class="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"
                          >
                            <thead>
                              <tr class="fw-bold text-muted">
                                <th class="">Unidad</th>
                                <th class="">Sucursal</th>
                                <th class="">Segmento de cliente</th>
                                <th class="">Precio</th>
                                <th class="">Acciones</th>
                              </tr>
                            </thead>
                            <tbody>
                              <ng-container
                                *ngFor="let WALLETS_PROD of WALLETS_PRODUCT"
                              >
                                <tr>
                                  <td>
                                    <a
                                      href="#"
                                      onclick="return false;"
                                      class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6"
                                      >{{ WALLETS_PROD.unit.name }}</a
                                    >
                                    </td>

                                  <td
                                    class="text-gray-900 fw-bold text-hover-primary fs-6"
                                  >
                                    {{
                                      WALLETS_PROD.sucursale
                                        ? WALLETS_PROD.sucursale.name
                                        : "---"
                                    }}
                                  </td>

                                  <td>
                                    <a
                                      href="#"
                                      class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6"
                                      >{{
                                        WALLETS_PROD.client_segment
                                          ? WALLETS_PROD.client_segment.name
                                          : "---"
                                      }}
                                    </a>
                                  </td>

                                  <td>
                                    {{ WALLETS_PROD.price_general }} COP
                                  </td>
                                  <td class="">
                                    <a
                                      href="#"
                                      onclick="return false"
                                      (click)="editProductWallet(WALLETS_PROD)"
                                      class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                                    >
                                      <i class="ki-duotone ki-pencil fs-2"
                                        ><span class="path1"></span
                                        ><span class="path2"></span
                                      ></i>
                                    </a>

                                    <a
                                      href="#"
                                      onclick="return false;"
                                      (click)="
                                        removePriceMultiple(WALLETS_PROD)
                                      "
                                      class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                                    >
                                      <i class="ki-duotone ki-trash fs-2"
                                        ><span class="path1"></span
                                        ><span class="path2"></span
                                        ><span class="path3"></span
                                        ><span class="path4"></span
                                        ><span class="path5"></span
                                      ></i>
                                    </a>
                                  </td>
                                </tr>
                              </ng-container>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  </div>
                <div class="card card-flush py-4">
                  <div class="card-header">
                    <div class="card-title">
                      <h2>Dimensiones</h2>
                    </div>
                  </div>
                  <div class="card-body pt-0">
                    <div id="kt_ecommerce_add_product_shipping" class="">
                      <div class="mb-10 fv-row row">
                        <div class="col-3">
                          <label class="form-label">Peso</label>
                          <input
                            type="text"
                            [(ngModel)]="weight"
                            name="weight"
                            name="weight"
                            class="form-control mb-2"
                            placeholder="Peso del producto"
                          />
                          <div class="text-muted fs-7">
                            Establece el peso del producto en kilogramos (kg).
                          </div>
                          </div>
                        <div class="col-3">
                          <label class="form-label">Ancho</label>
                          <div class="d-flex flex-wrap flex-sm-nowrap gap-3">
                            <input
                              type="number"
                              [(ngModel)]="width"
                              name="width"
                              class="form-control mb-2"
                              placeholder="Ancho (cm)"
                            />
                          </div>
                          </div>
                        <div class="col-3">
                          <label class="form-label">Alto</label>
                          <div class="d-flex flex-wrap flex-sm-nowrap gap-3">
                            <input
                              type="number"
                              [(ngModel)]="height"
                              name="height"
                              class="form-control mb-2"
                              placeholder="Alto (cm)"
                            />
                          </div>
                          </div>
                        <div class="col-3">
                          <label class="form-label">Largo</label>
                          <div class="d-flex flex-wrap flex-sm-nowrap gap-3">
                            <input
                              type="number"
                              [(ngModel)]="length"
                              name="length"
                              class="form-control mb-2"
                              placeholder="Largo (cm)"
                            />
                          </div>
                          </div>
                      </div>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
            </div>
          <div class="d-flex justify-content-end">
            <button
              type="button"
              (click)="store()"
              id="kt_ecommerce_add_product_submit"
              class="btn btn-primary"
            >
              <span class="indicator-label">Guardar Cambios</span>
              <span class="indicator-progress"
                >Por favor espera...
                <span
                  class="spinner-border spinner-border-sm align-middle ms-2"
                ></span
              ></span>
            </button>
            </div>
        </div>
        </form>
      </div>
    </div>
  </div>